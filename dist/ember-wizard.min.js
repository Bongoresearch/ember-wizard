(function(){this.EmberWizard=Ember.Namespace.create({VERSION:"1.0.0"});EmberWizard.Config=Ember.Object.create({nextLinkTitle:"next step",exitLinkTitle:"exit from wizard"})}).call(this);(function(){EmberWizard.StepDSL=function(){StepDSL.wizard={};StepDSL.map=function(fun){this.wizard={};fun.call(new EmberWizard.StepDSL(this.wizard));return this.wizard};function StepDSL(wizard){this.wizard=wizard}StepDSL.prototype.controller=function(name,fun){this.wizard[name]=[];return fun.call(new EmberWizard.StepDSL(this.wizard[name]))};StepDSL.prototype.step=function(name,options){var step;step={stepName:name,options:this._defaults(options)};return this.wizard.push(step)};StepDSL.prototype._defaults=function(options){options.templateName||(options.templateName="_default_step");return options};return StepDSL}()}).call(this);(function(){EmberWizard.StepMixin=Ember.Mixin.create({needs:["application"],isWizardState:Ember.computed.alias("controllers.application.isWizardState"),actions:{nextStep:function(){return this.nextStepObject()},exitWizard:function(){return this.set("isWizardState",false)}},wizardStep:function(){return EmberWizard.StepDSL.wizard[this._controllerName()][0]}.property(),isLastStep:function(){var index;index=EmberWizard.StepDSL.wizard[this._controllerName()].indexOf(this.get("wizardStep"));if(EmberWizard.StepDSL.wizard[this._controllerName()][index+1]){return false}return true}.property("wizardStep"),isFinishedStep:function(){if(!this.nextController()){return true}return false}.property("wizardStep"),nextController:function(){var index;if(Ember.keys(EmberWizard.StepDSL.wizard).length===1){return false}index=Ember.keys(EmberWizard.StepDSL.wizard).indexOf(this._controllerName());return Ember.keys(EmberWizard.StepDSL.wizard)[index+1]},nextControllerStepObject:function(){var controller;controller=this.nextController();if(!controller){return}return EmberWizard.StepDSL.wizard[controller][0]},nextStepObject:function(){var index,next;index=EmberWizard.StepDSL.wizard[this._controllerName()].indexOf(this.get("wizardStep"));if(!this.get("isLastStep")){return this.set("wizardStep",EmberWizard.StepDSL.wizard[this._controllerName()][index+1])}else{next=this.nextControllerStepObject();if(next){return this.transitionToRoute(next.options.route)}else{return this.set("isWizardState",false)}}},_controllerName:function(){return this._debugContainerKey.replace("controller:","")}})}).call(this);(function(){EmberWizard.Route=Ember.Route.extend({renderTemplate:function(controller,model){if(controller.get("wizardStep")&&controller.get("isWizardState")){return this.render("wizard_step",{outlet:"wizard",controller:controller})}}})}).call(this);(function(){EmberWizard.BaseStepView=Ember.View.extend({title:Ember.computed.alias("controller.wizardStep.options.title"),content:Ember.computed.alias("controller.wizardStep.options.content"),htmlContext:Ember.computed.alias("controller.wizardStep.options.htmlContext"),pointerPosition:Ember.computed.alias("controller.wizardStep.options.pointerPosition"),nextLinkTitle:EmberWizard.Config.get("nextLinkTitle"),exitLinkTitle:EmberWizard.Config.get("exitLinkTitle"),attributeBindings:["style","class"],classNameBindings:["positionClass","customClass"],positionClass:function(){if(this.get("pointerPosition")==="left"){return"bottom-right"}}.property("pointerPosition"),customClass:function(){return this.get("controller.wizardStep.options.class")}.property("pointerPosition"),didInsertElement:function(){var style;style="top: %@px; left: %@px;".fmt(this.top(),this.left());return this.set("style",style)},actions:{nextStep:function(){return this.get("controller").send("nextStep")},exitWizard:function(){return this.get("controller").send("exitWizard")}},style:function(){return""}.property("controller.wizardStep"),changeStyle:function(){var style;style="top: %@px; left: %@px;".fmt(this.top(),this.left());return this.set("style",style)}.observes("controller.wizardStep"),top:function(){var $el;if(this.get("htmlContext")){$el=this._contextHTMLobject();return $el.position().top+$el.outerHeight()/this._positionTop()}else{return this.get("controller.wizardStep.options.top")||0}},left:function(){var $el;if(this.get("htmlContext")){$el=this._contextHTMLobject();return $el.position().left+$el.outerWidth()/this._positionLeft()}else{return this.get("controller.wizardStep.options.left")||0}},_contextHTMLobject:function(){return $(this.get("htmlContext"))},_positionLeft:function(){if(this.get("pointerPosition")==="left"){return 1}return 2},_positionTop:function(){if(!this.get("pointerPosition")||this.get("pointerPosition")==="center"){return 1}return 2}})}).call(this);(function(){EmberWizard.DefaultStepView=EmberWizard.BaseStepView.extend({classNames:["intro"]})}).call(this);Ember.TEMPLATES["_default_step"]=Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Ember.Handlebars.helpers);data=data||{};var buffer="",stack1,hashContexts,hashTypes,self=this,escapeExpression=this.escapeExpression;function program1(depth0,data){var buffer="",stack1,hashContexts,hashTypes;data.buffer.push('<p class="text-small">');hashContexts={unescaped:depth0};hashTypes={unescaped:"STRING"};stack1=helpers._triageMustache.call(depth0,"paragraph",{hash:{unescaped:"true"},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});if(stack1||stack1===0){data.buffer.push(stack1)}data.buffer.push("</p>");return buffer}function program3(depth0,data){var buffer="";return buffer}data.buffer.push('<div class="arrow"></div><div class="content"><div class="h4">');hashContexts={unescaped:depth0};hashTypes={unescaped:"STRING"};stack1=helpers._triageMustache.call(depth0,"view.title",{hash:{unescaped:"true"},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});if(stack1||stack1===0){data.buffer.push(stack1)}data.buffer.push("</div>");hashTypes={};hashContexts={};stack1=helpers.each.call(depth0,"paragraph","in","view.content",{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});if(stack1||stack1===0){data.buffer.push(stack1)}data.buffer.push('<div class="nav"><a class="red-link" href="#" ');hashContexts={target:depth0,on:depth0};hashTypes={target:"STRING",on:"STRING"};data.buffer.push(escapeExpression(helpers.action.call(depth0,"nextStep",{hash:{target:"view",on:"click"},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));data.buffer.push(">");hashTypes={};hashContexts={};data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0,"view.nextLinkTitle",{hash:{},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));data.buffer.push('</a><a class="grey-link" href="#" ');hashContexts={target:depth0,on:depth0};hashTypes={target:"STRING",on:"STRING"};data.buffer.push(escapeExpression(helpers.action.call(depth0,"exitWizard",{hash:{target:"view",on:"click"},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));data.buffer.push(">");hashTypes={};hashContexts={};data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0,"view.exitLinkTitle",{hash:{},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));data.buffer.push("</a></div></div>");return buffer});Ember.TEMPLATES["wizard_step"]=Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Ember.Handlebars.helpers);data=data||{};var stack1,hashTypes,hashContexts,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var hashContexts,hashTypes;hashContexts={templateNameBinding:depth0};hashTypes={templateNameBinding:"STRING"};data.buffer.push(escapeExpression(helpers.view.call(depth0,"EmberWizard.DefaultStepView",{hash:{templateNameBinding:"controller.wizardStep.options.templateName"},contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})))}function program3(depth0,data){var buffer="";return buffer}hashTypes={};hashContexts={};stack1=helpers["if"].call(depth0,"controller.isWizardState",{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});if(stack1||stack1===0){data.buffer.push(stack1)}else{data.buffer.push("")}});